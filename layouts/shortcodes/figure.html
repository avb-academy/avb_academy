{{- $figNum := "" }}
{{- if .Get "fig-num" }}
    {{- $figNum = printf "Fig. %s: " (.Get "fig-num") }}
{{- else if .Get "title" }}
    {{- $figNum = "Fig: " }}
{{- end }}

<figure id="{{ .Get "id" }}">
    <img src="{{ .Get "src" }}" alt="{{ .Get "alt" }}" />
    {{- if .Get "title" }}
        <figcaption>{{ $figNum }}{{ .Get "title" }}</figcaption>
    {{- end }}
</figure>
